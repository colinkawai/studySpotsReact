(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{23:function(e,t,n){},233:function(e,t,n){"use strict";n.r(t);var a,i=n(0),o=n.n(i),r=n(6),s=n.n(r),l=(n(60),n(18)),c=n.n(l),u=n(50),p=n(10),d=n(11),m=n(13),h=n(12),g=n(3),f=n(14),v=n(30),b=n(1),C=n.n(b),k=function(e){return e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("")},E=(n(23),0),O=n(75),y="undefined"!==typeof O&&O._scriptMap||new Map,w=((a=O)._scriptMap=a._scriptMap||y,n(27)),j=n(29),M=["click","dblclick","dragend","mousedown","mouseout","mouseover","mouseup","recenter"],S=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.markerPromise=function(){var e={},t=new Promise((function(t,n){e.resolve=t,e.reject=n}));return e.then=t.then.bind(t),e.catch=t.catch.bind(t),e.promise=t,e}(),this.renderMarker()}},{key:"componentDidUpdate",value:function(e){this.props.map===e.map&&this.props.position===e.position&&this.props.icon===e.icon||(this.marker&&this.marker.setMap(null),this.renderMarker())}},{key:"componentWillUnmount",value:function(){this.marker&&this.marker.setMap(null)}},{key:"renderMarker",value:function(){var e=this,t=this.props,n=t.map,a=t.google,i=t.position,o=t.mapCenter,r=t.icon,s=t.label,l=t.draggable,c=t.title,u=Object(j.a)(t,["map","google","position","mapCenter","icon","label","draggable","title"]);if(!a)return null;var p=i||o;p instanceof a.maps.LatLng||(p=new a.maps.LatLng(p.lat,p.lng));var d=Object(w.a)({map:n,position:p,icon:r,label:s,title:c,draggable:l},u);this.marker=new a.maps.Marker(d),M.forEach((function(t){e.marker.addListener(t,e.handleEvent(t))})),this.markerPromise.resolve(this.marker)}},{key:"getMarker",value:function(){return this.markerPromise}},{key:"handleEvent",value:function(e){var t=this;return function(n){var a="on".concat(k(e));t.props[a]&&t.props[a](t.props,t.marker,n)}}},{key:"render",value:function(){return null}}]),t}(o.a.Component);M.forEach((function(e){return S.propTypes[e]=C.a.func})),S.defaultProps={name:"Marker"};var L=n(32),P=n.n(L),I=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.renderInfoWindow()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.google,a=t.map;n&&a&&(a!==e.map&&this.renderInfoWindow(),this.props.position!==e.position&&this.updatePosition(),this.props.children!==e.children&&this.updateContent(),this.props.visible===e.visible&&this.props.marker===e.marker&&this.props.position===e.position||(this.props.visible?this.openWindow():this.closeWindow()))}},{key:"renderInfoWindow",value:function(){var e=this.props,t=(e.map,e.google),n=(e.mapCenter,Object(j.a)(e,["map","google","mapCenter"]));if(t&&t.maps){var a=this.infowindow=new t.maps.InfoWindow(Object(w.a)({content:""},n));t.maps.event.addListener(a,"closeclick",this.onClose.bind(this)),t.maps.event.addListener(a,"domready",this.onOpen.bind(this))}}},{key:"onOpen",value:function(){this.props.onOpen&&this.props.onOpen()}},{key:"onClose",value:function(){this.props.onClose&&this.props.onClose()}},{key:"openWindow",value:function(){this.infowindow.open(this.props.map,this.props.marker)}},{key:"updatePosition",value:function(){var e=this.props.position;e instanceof window.google.maps.LatLng||(e=e&&new window.google.maps.LatLng(e.lat,e.lng)),this.infowindow.setPosition(e)}},{key:"updateContent",value:function(){var e=this.renderChildren();this.infowindow.setContent(e)}},{key:"closeWindow",value:function(){this.infowindow.close()}},{key:"renderChildren",value:function(){var e=this.props.children;return P.a.renderToString(e)}},{key:"render",value:function(){return null}}]),t}(o.a.Component);I.defaultProps={visible:!1};var D={position:"absolute",width:"100%",height:"100%"},N={position:"absolute",left:0,right:0,bottom:0,top:0},W=["ready","click","dragend","recenter","bounds_changed","center_changed","dblclick","dragstart","heading_change","idle","maptypeid_changed","mousemove","mouseout","mouseover","projection_changed","resize","rightclick","tilesloaded","tilt_changed","zoom_changed"],T=function(e){function t(e){var n;if(Object(p.a)(this,t),n=Object(m.a)(this,Object(h.a)(t).call(this,e)),!e.hasOwnProperty("google"))throw new Error("You must include a `google` prop");return n.listeners={},n.state={currentLocation:{lat:n.props.initialCenter.lat,lng:n.props.initialCenter.lng}},n.mapRef=o.a.createRef(),n.handleChange=n.handleChange.bind(Object(g.a)(n)),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"handleChange",value:function(){var e=this.state.currentLocation.lat,t=this.state.currentLocation.lng;this.props.onLocationChange(e,t)}},{key:"componentDidMount",value:function(){var e=this;this.props.centerAroundCurrentLocation&&navigator&&navigator.geolocation&&(this.geoPromise=function(e){var t=!1;return{promise:new Promise((function(n,a){e.then((function(e){return t?a({isCanceled:!0}):n(e)})),e.catch((function(e){return a(t?{isCanceled:!0}:e)}))})),cancel:function(){t=!0}}}(new Promise((function(e,t){navigator.geolocation.getCurrentPosition(e,t)}))),this.geoPromise.promise.then((function(t){var n=t.coords;e.setState({currentLocation:{lat:n.latitude,lng:n.longitude}})})).catch((function(e){return e}))),this.loadMap()}},{key:"componentDidUpdate",value:function(e,t){e.google!==this.props.google&&this.loadMap(),this.props.visible!==e.visible&&this.restyleMap(),this.props.zoom!==e.zoom&&this.map.setZoom(this.props.zoom),this.props.center!==e.center&&this.setState({currentLocation:this.props.center}),t.currentLocation!==this.state.currentLocation&&(this.recenterMap(),this.handleChange()),this.props.bounds&&this.props.bounds!==e.bounds&&this.map.fitBounds(this.props.bounds)}},{key:"componentWillUnmount",value:function(){var e=this,t=this.props.google;this.geoPromise&&this.geoPromise.cancel(),Object.keys(this.listeners).forEach((function(n){t.maps.event.removeListener(e.listeners[n])}))}},{key:"loadMap",value:function(){var e=this;if(this.props&&this.props.google){var t=this.props.google.maps,n=this.mapRef.current,a=s.a.findDOMNode(n),i=this.state.currentLocation,o=new t.LatLng(i.lat,i.lng),r=this.props.google.maps.MapTypeId||{},l=String(this.props.mapType).toUpperCase(),c=Object.assign({},{mapTypeId:r[l],center:o,zoom:this.props.zoom,maxZoom:this.props.maxZoom,minZoom:this.props.minZoom,clickableIcons:!!this.props.clickableIcons,disableDefaultUI:this.props.disableDefaultUI,zoomControl:this.props.zoomControl,zoomControlOptions:this.props.zoomControlOptions,mapTypeControl:this.props.mapTypeControl,mapTypeControlOptions:this.props.mapTypeControlOptions,scaleControl:this.props.scaleControl,streetViewControl:this.props.streetViewControl,streetViewControlOptions:this.props.streetViewControlOptions,panControl:this.props.panControl,rotateControl:this.props.rotateControl,fullscreenControl:this.props.fullscreenControl,scrollwheel:this.props.scrollwheel,draggable:this.props.draggable,draggableCursor:this.props.draggableCursor,keyboardShortcuts:this.props.keyboardShortcuts,disableDoubleClickZoom:this.props.disableDoubleClickZoom,noClear:this.props.noClear,styles:this.props.styles,gestureHandling:this.props.gestureHandling});Object.keys(c).forEach((function(e){null===c[e]&&delete c[e]})),this.map=new t.Map(a,c),W.forEach((function(t){e.listeners[t]=e.map.addListener(t,e.handleEvent(t))})),t.event.trigger(this.map,"ready"),this.forceUpdate()}}},{key:"handleEvent",value:function(e){var t,n=this,a="on".concat(k(e));return function(e){t&&(clearTimeout(t),t=null),t=setTimeout((function(){n.props[a]&&n.props[a](n.props,n.map,e)}),0)}}},{key:"recenterMap",value:function(){var e=this.map,t=this.props.google;if(t){var n=t.maps;if(e){var a=this.state.currentLocation;a instanceof t.maps.LatLng||(a=new t.maps.LatLng(a.lat,a.lng)),e.setCenter(a),n.event.trigger(e,"recenter")}}}},{key:"restyleMap",value:function(){this.map&&this.props.google.maps.event.trigger(this.map,"resize")}},{key:"renderChildren",value:function(){var e=this,t=this.props.children;if(t)return o.a.Children.map(t,(function(t){if(t)return o.a.cloneElement(t,{map:e.map,google:e.props.google,mapCenter:e.state.currentLocation})}))}},{key:"render",value:function(){Object.assign({},N,this.props.style,{display:this.props.visible?"inherit":"none"}),this.state.currentLocation;var e=Object.assign({},D,this.props.containerStyle);return o.a.createElement("div",{style:e,className:this.props.className},o.a.createElement("div",{style:{height:"100%",width:"100%"},ref:this.mapRef},"Loading map..."),this.renderChildren())}}]),t}(o.a.Component);W.forEach((function(e){return T.propTypes[k(e)]=C.a.func})),T.defaultProps={zoom:14,initialCenter:{lat:37.774929,lng:-122.419416},center:{},centerAroundCurrentLocation:!1,style:{},containerStyle:{},visible:!0};var R=T,q=n(19),x=n.n(q),A=("".concat("drvg4LDqYomYiPGMoBJ9qKRuVnst3Vw-WZUsodT4eW3z82VAuV1cQY34Dd3-Vyql7wqJoW7nG8ab24yWnFEbqQiKnP5hHFEFA008lyAfUPvCJEoEMvjK5tQoTlxLXnYx"),function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).onMarkerClick=function(e,t,a){n.props.onMarkerClick(e,t,a)},n.onMapClicked=function(e){n.props.showingInfoWindow&&n.props.onMapClicked()},n.locationChange=n.locationChange.bind(Object(g.a)(n)),n.onMapClicked=n.onMapClicked.bind(Object(g.a)(n)),n.centerMoved=n.centerMoved.bind(Object(g.a)(n)),n.onMarkerClick=n.onMarkerClick.bind(Object(g.a)(n)),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"centerMoved",value:function(e,t){this.props.centerMoved(e,t)}},{key:"locationChange",value:function(e,t){this.props.handleLocationChange(e,t)}},{key:"render",value:function(){for(var e=this.props.names,t=this.props.locations,n=this.props.addresses,a=this.props.ratings,i=this.props.activeMarker,r=this.props.showingInfoWindow,s=this.props.selectedPlace,l=[],c=0;c<e.length;c++)l.push(o.a.createElement(v.Marker,{onClick:this.onMarkerClick,title:e[c],name:e[c],position:{lat:t[c].latitude,lng:t[c].longitude},addresses:n[c],ratings:a[c]}));return(o.a.createElement("div",null,o.a.createElement(R,{centerAroundCurrentLocation:!0,google:this.props.google,style:{width:"100%",height:"100%",position:"relative"},className:"map",zoom:14,onClick:this.onMapClicked,onDragend:this.centerMoved,onLocationChange:this.locationChange},l,o.a.createElement(v.InfoWindow,{marker:i,visible:r},o.a.createElement("div",null,o.a.createElement("h1",null,s.name),o.a.createElement("h2",null,"Yelp Rating: ",s.ratings,"/5"),o.a.createElement("h3",null,s.addresses))))))}}]),t}(i.Component)),z=Object(v.GoogleApiWrapper)({apiKey:"AIzaSyBFUHG2hhGRTX-FTfz3nwMMNPXKHvqGxZ8"})(A),V=(n(92),n(7)),F=n(234),U=n(241),Y=n(235),_=n(236),B=n(237),J=n(9),K=n.n(J),Z=function(e){var t=e.buttonLabel,n=e.className,a=e.names,r=(e.ratings,e.placeID),s=Object(i.useState)(0),l=Object(V.a)(s,2),c=l[0],u=l[1],p=Object(i.useState)(0),d=Object(V.a)(p,2),m=d[0],h=d[1],g=Object(i.useState)(0),f=Object(V.a)(g,2),v=f[0],b=f[1],C=Object(i.useState)(0),k=Object(V.a)(C,2),E=k[0],O=k[1],y=Object(i.useState)(0),w=Object(V.a)(y,2),j=w[0],M=w[1],S=Object(i.useState)(!1),L=Object(V.a)(S,2),P=(L[0],L[1]),I=Object(i.useState)(""),D=Object(V.a)(I,2),N=(D[0],D[1]),W=Object(i.useState)(!1),T=Object(V.a)(W,2),R=T[0],q=T[1],A=function(){return q(!R)},z="/api/getDataAverage/"+r;return o.a.createElement("div",null,o.a.createElement(F.a,{color:"danger",onClick:function(){x.a.get(z).then((function(e){u(e.data.data[0].averageSeatRating),h(e.data.data[0].averageComfortRating),b(e.data.data[0].averageInternetRating),O(e.data.data[0].averageNoiseRating),M(e.data.data[0].averageOutletRating)})).catch((function(e){console.log(e)})),x.a.get("https://cors-anywhere.herokuapp.com/".concat("https://api.yelp.com/v3/businesses/",r),{headers:{Authorization:"Bearer ".concat("drvg4LDqYomYiPGMoBJ9qKRuVnst3Vw-WZUsodT4eW3z82VAuV1cQY34Dd3-Vyql7wqJoW7nG8ab24yWnFEbqQiKnP5hHFEFA008lyAfUPvCJEoEMvjK5tQoTlxLXnYx")}}).then((function(e){P(e.data.hours[0].is_open_now),N(e.data.display_phone)})).catch((function(e){console.log(e.res)})),A()}},t," Read Reviews"),o.a.createElement(U.a,{isOpen:R,fade:!1,toggle:A,className:n},o.a.createElement(Y.a,{toggle:A},a),o.a.createElement(_.a,null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",o.a.createElement("div",null," Seating"),o.a.createElement(K.a,{name:"Seating",editing:!1,starCount:5,value:c}),o.a.createElement("div",null," Seat Comfort"),o.a.createElement(K.a,{name:"Comfort",editing:!1,starCount:5,value:m}),o.a.createElement("div",null," Internet Rating"),o.a.createElement(K.a,{name:"Internet Speed",editing:!1,starCount:5,value:v}),o.a.createElement("div",null," Noise Level "),o.a.createElement(K.a,{name:"Noise",editing:!1,starCount:5,value:E}),o.a.createElement("div",null," Outlet Availability "),o.a.createElement(K.a,{name:"Outlet Availability",editing:!1,starCount:5,value:j})),o.a.createElement(B.a,null,o.a.createElement(F.a,{color:"secondary",onClick:A},"Cancel"))))},G=n(238),Q=n(239),H=n(240),X=function(e){var t=Object(i.useState)(!1),n=Object(V.a)(t,2),a=n[0],r=n[1],s=Object(i.useState)(0),l=Object(V.a)(s,2),c=l[0],u=l[1],p=Object(i.useState)(0),d=Object(V.a)(p,2),m=d[0],h=d[1],g=Object(i.useState)(0),f=Object(V.a)(g,2),v=f[0],b=f[1],C=Object(i.useState)(0),k=Object(V.a)(C,2),E=k[0],O=k[1],y=Object(i.useState)(0),w=Object(V.a)(y,2),j=w[0],M=w[1],S=function(){return r(!a)};return o.a.createElement("div",null,o.a.createElement(F.a,{color:"primary",onClick:S,id:"filterButton",style:{marginBottom:"1rem",marginTop:"1rem",marginLeft:"3rem"}},"Filter"),o.a.createElement(G.a,{isOpen:a},o.a.createElement(Q.a,null,o.a.createElement("div",{className:"filterList"},o.a.createElement(H.a,null,o.a.createElement("div",null," Select minimum rating for each category "),o.a.createElement("br",null),o.a.createElement("div",{className:"filterListInside"},o.a.createElement("div",{className:"filterText"},"Seating: "),o.a.createElement("div",{className:"filterStar"},o.a.createElement(K.a,{name:"Seating",editing:!0,starCount:5,value:c,onStarClick:function(e,t,n){u(e)}}))),o.a.createElement("div",{className:"filterListInside"},o.a.createElement("div",{className:"filterText"},"Seat Comfort:"),o.a.createElement("div",{className:"filterStar"},o.a.createElement(K.a,{name:"SeatComfort",editing:!0,starCount:5,value:m,onStarClick:function(e,t,n){h(e)}}))),o.a.createElement("div",{className:"filterListInside"},o.a.createElement("div",{className:"filterText"},"Internet Speed: "),o.a.createElement("div",{className:"filterStar"},o.a.createElement(K.a,{name:"internetSpeed",editing:!0,starCount:5,value:v,onStarClick:function(e,t,n){b(e)}}))),o.a.createElement("div",{className:"filterListInside"},o.a.createElement("div",{className:"filterText"},"Noise Level:"),o.a.createElement("div",{className:"filterStar"},o.a.createElement(K.a,{name:"Noise",editing:!0,starCount:5,value:E,onStarClick:function(e,t,n){O(e)}}))),o.a.createElement("div",{className:"filterListInside"},o.a.createElement("div",{className:"filterText"},"Outlet Availability:"),o.a.createElement("div",{className:"filterStar"},o.a.createElement(K.a,{name:"Outlet",editing:!0,starCount:5,value:j,onStarClick:function(e,t,n){M(e)}}))),o.a.createElement(F.a,{onClick:function(){e.onFilter(c,m,v,E,j),S()}},"Submit"))))))},$=function(e){var t=e.buttonLabel,n=e.className,a=e.names,r=(e.rating,e.placeID),s=Object(i.useState)(0),l=Object(V.a)(s,2),c=l[0],u=l[1],p=Object(i.useState)(0),d=Object(V.a)(p,2),m=d[0],h=d[1],g=Object(i.useState)(0),f=Object(V.a)(g,2),v=f[0],b=f[1],C=Object(i.useState)(0),k=Object(V.a)(C,2),E=k[0],O=k[1],y=Object(i.useState)(0),w=Object(V.a)(y,2),j=w[0],M=w[1],S=Object(i.useState)(!1),L=Object(V.a)(S,2),P=L[0],I=L[1],D=function(){return I(!P)};return o.a.createElement("div",null,o.a.createElement(F.a,{color:"danger",onClick:D},t," Write Review"),o.a.createElement(U.a,{isOpen:P,fade:!1,toggle:D,className:n},o.a.createElement(Y.a,{toggle:D},a),o.a.createElement(_.a,null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",o.a.createElement("div",null,"Seating"),o.a.createElement(K.a,{name:a,editing:!0,starCount:5,value:c,onStarClick:function(e,t,n){u(e)}}),o.a.createElement("div",null,"Seat Comfort"),o.a.createElement(K.a,{name:a,editing:!0,starCount:5,value:m,onStarClick:function(e,t,n){h(e)}}),o.a.createElement("div",null,"Internet Speed"),o.a.createElement(K.a,{name:a,editing:!0,starCount:5,value:v,onStarClick:function(e,t,n){b(e)}}),o.a.createElement("div",null,"Nosie Level"),o.a.createElement(K.a,{name:a,editing:!0,starCount:5,value:E,onStarClick:function(e,t,n){O(e)}}),o.a.createElement("div",null,"Outlet Availability"),o.a.createElement(K.a,{name:a,editing:!0,starCount:5,value:j,onStarClick:function(e,t,n){M(e)}})),o.a.createElement(B.a,null,o.a.createElement(F.a,{color:"primary",onClick:function(){e.putData(r,c,m,v,E,j),D()}},"Submit"),o.a.createElement(F.a,{color:"secondary",onClick:D},"Cancel"))))},ee=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).putDataToDB=function(e,t,n,a,i,o){x.a.post("/api/putData",{placeID:e,seatRating:t,comfortRating:n,noiseRating:i,internetRating:a,outletRating:o})},n.filterPlaces=n.filterPlaces.bind(Object(g.a)(n)),n.state={elements:[]},n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.names!==e.names&&this.createList()}},{key:"componentDidMount",value:function(){this.createList()}},{key:"createList",value:function(){for(var e=this.props.names,t=this.props.addresses,n=this.props.ratings,a=this.props.placeID,i=[],r=0;r<e.length;r++)i.push(o.a.createElement("li",null,o.a.createElement("div",null,e[r]),o.a.createElement("div",null,t[r]),o.a.createElement("div",null," Yelp rating: ",n[r],"/5"),o.a.createElement(Z,{names:e[r],ratings:n[r],showReviews:this.showReviews,placeID:a[r]}),o.a.createElement("br",null),o.a.createElement($,{names:e[r],putData:this.putDataToDB,placeID:a[r]}),o.a.createElement("br",null)));this.setState({elements:i})}},{key:"filterPlaces",value:function(e,t,n,a,i){var o=[e,t,n,a,i];this.props.onFilter(o)}},{key:"render",value:function(){return o.a.createElement("div",{className:this.props.className,id:this.props.id},o.a.createElement(X,{onFilter:this.filterPlaces}),o.a.createElement("ol",null,this.state.elements))}}]),t}(i.Component),te=n(55),ne=(n(230),function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).targetElement=null,n.onMarkerClick=function(e,t,a){n.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},n.handleOnMapClicked=function(e){n.state.showingInfoWindow&&n.setState({showingInfoWindow:!1,activeMarker:null})},n.handleFilters=function(){var e=Object(u.a)(c.a.mark((function e(t){var a,i,o,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getMapInfo(t);case 2:return a=e.sent,e.next=5,n.filterPlaces(t,a);case 5:return i=e.sent,e.next=8,n.removePlaces(i,a);case 8:return o=e.sent,console.log(o),e.next=12,n.filterFinal(o);case 12:r=e.sent,console.log(r);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getMapInfo=function(e){return new Promise((function(t,a){var i=[],o=[],r=[],s=[],l=[],c=[];x.a.get("https://cors-anywhere.herokuapp.com/".concat("https://api.yelp.com/v3/businesses/search?"),{headers:{Authorization:"Bearer ".concat("drvg4LDqYomYiPGMoBJ9qKRuVnst3Vw-WZUsodT4eW3z82VAuV1cQY34Dd3-Vyql7wqJoW7nG8ab24yWnFEbqQiKnP5hHFEFA008lyAfUPvCJEoEMvjK5tQoTlxLXnYx")},params:{categories:"coffee, libraries",latitude:n.state.currentLocation.lat,longitude:n.state.currentLocation.lng,limit:20}}).then((function(a){for(var u in a.data.businesses){var p=a.data.businesses[u].location;o.push(a.data.businesses[u].coordinates),c.push(a.data.businesses[u].id),r.push(a.data.businesses[u].name),s.push(a.data.businesses[u].rating),l.push(p.address1+" "+p.city+", "+p.state+" "+p.zip_code)}void 0===e&&n.setState({placeID:c,locations:o,names:r,ratings:s,addresses:l}),i.push(c),i.push(o),i.push(r),i.push(s),i.push(l),void 0!==e&&t(i)}))})).catch((function(e){console.log("Yelp API call error")}))},n.filterFinal=function(e){return new Promise((function(t,a){var i=e[0],o=e[1],r=e[2],s=e[3],l=e[4];n.setState({placeID:i,locations:o,names:r,ratings:s,addresses:l}),t("great success")}))},n.filterPlaces=function(e,t){return new Promise((function(n,a){for(var i=t[0],o=(i.length,[]),r=function(t){var a="/api/getDataAverage/"+i[t];x.a.get(a).then((function(n){for(var a=[n.data.data[0].averageSeatRating,n.data.data[0].averageComfortRating,n.data.data[0].averageInternetRating,n.data.data[0].averageNoiseRating,n.data.data[0].averageOutletRating],i=0;i<a.length;i++)if(a[i]<e[i]){o.push(t);break}})).then((function(){n(o)})).catch((function(e){console.log(e)}))},s=0;s<i.length;s++)r(s)}))},n.removePlaces=function(e,t){return new Promise((function(n,a){var i=t[0],o=t[1],r=t[2],s=t[3],l=t[4],c=e.length;for(console.log(e);c--;)console.log("here"),o.splice(e[c],1),i.splice(e[c],1),r.splice(e[c],1),s.splice(e[c],1),l.splice(e[c],1);n([i,o,r,s,l])}))},n.state={showingInfoWindow:!1,show:!1,activeMarker:{},selectedPlace:{},addresses:[],locations:[],names:[],placeID:[],hours:[],ratings:[],currentLocation:{lat:"",lng:""}},n.onMarkerClick=n.onMarkerClick.bind(Object(g.a)(n)),n.handleOnMapClicked=n.handleOnMapClicked.bind(Object(g.a)(n)),n.handleCenterMoved=n.handleCenterMoved.bind(Object(g.a)(n)),n.handleLocationChange=n.handleLocationChange.bind(Object(g.a)(n)),n.filterPlaces=n.filterPlaces.bind(Object(g.a)(n)),n.removePlaces=n.removePlaces.bind(Object(g.a)(n)),n.connectToServer=n.connectToServer.bind(Object(g.a)(n)),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.targetElement=document.querySelector("#listView"),Object(te.a)(this.targetElement),this.connectToServer()}},{key:"connectToServer",value:function(){fetch("/")}},{key:"handleCenterMoved",value:function(e,t){var n=this;this.setState({currentLocation:{lat:t.center.lat(),lng:t.center.lng()}},(function(){n.getMapInfo()}))}},{key:"handleLocationChange",value:function(e,t){var n=this;this.setState({currentLocation:{lat:e,lng:t}},(function(){n.getMapInfo()}))}},{key:"render",value:function(){var e=this.state.names,t=this.state.locations,n=this.state.addresses,a=this.state.ratings,i=this.state.activeMarker,r=this.state.showingInfoWindow,s=this.state.selectedPlace,l=this.state.placeID;return o.a.createElement("div",{className:"container"},o.a.createElement("div",{id:"title"}," Study Spots"),o.a.createElement("div",{className:"mapListContainer"},o.a.createElement(ee,{className:"ViewList",id:"listView",names:e,locations:t,addresses:n,ratings:a,placeID:l,onFilter:this.handleFilters}),o.a.createElement(z,{className:"mapContainer",names:e,locations:t,addresses:n,ratings:a,activeMarker:i,showingInfoWindow:r,selectedPlace:s,onMapClicked:this.handleOnMapClicked,onMarkerClick:this.onMarkerClick,centerMoved:this.handleCenterMoved,handleLocationChange:this.handleLocationChange})))}}]),t}(o.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},56:function(e,t,n){e.exports=n(233)},75:function(e,t,n){"use strict";(function(t){e.exports="object"===typeof window.self&&window.self.self===window.self&&window.self||"object"===typeof t&&t.global===t&&t||this}).call(this,n(22))}},[[56,1,2]]]);
//# sourceMappingURL=main.7c80ade8.chunk.js.map