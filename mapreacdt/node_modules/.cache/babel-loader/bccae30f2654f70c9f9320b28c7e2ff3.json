{"ast":null,"code":"// https://facebook.github.io/react/blog/2015/12/16/ismounted-antipattern.html\nexport const makeCancelable = promise => {\n  let hasCanceled_ = false;\n  const wrappedPromise = new Promise((resolve, reject) => {\n    promise.then(val => hasCanceled_ ? reject({\n      isCanceled: true\n    }) : resolve(val));\n    promise.catch(error => hasCanceled_ ? reject({\n      isCanceled: true\n    }) : reject(error));\n  });\n  return {\n    promise: wrappedPromise,\n\n    cancel() {\n      hasCanceled_ = true;\n    }\n\n  };\n};","map":{"version":3,"sources":["/Users/colinkawai/studySpotsReact/mapreacdt/src/lib/cancelablePromise.js"],"names":["makeCancelable","promise","hasCanceled_","wrappedPromise","Promise","resolve","reject","then","val","isCanceled","catch","error","cancel"],"mappings":"AAAA;AAEA,OAAO,MAAMA,cAAc,GAAIC,OAAD,IAAa;AACzC,MAAIC,YAAY,GAAG,KAAnB;AAEA,QAAMC,cAAc,GAAG,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtDL,IAAAA,OAAO,CAACM,IAAR,CAAcC,GAAD,IACXN,YAAY,GAAGI,MAAM,CAAC;AAACG,MAAAA,UAAU,EAAE;AAAb,KAAD,CAAT,GAAgCJ,OAAO,CAACG,GAAD,CADrD;AAGAP,IAAAA,OAAO,CAACS,KAAR,CAAeC,KAAD,IACZT,YAAY,GAAGI,MAAM,CAAC;AAACG,MAAAA,UAAU,EAAE;AAAb,KAAD,CAAT,GAAgCH,MAAM,CAACK,KAAD,CADpD;AAGD,GAPsB,CAAvB;AASA,SAAO;AACLV,IAAAA,OAAO,EAAEE,cADJ;;AAELS,IAAAA,MAAM,GAAG;AACPV,MAAAA,YAAY,GAAG,IAAf;AACD;;AAJI,GAAP;AAMD,CAlBM","sourcesContent":["// https://facebook.github.io/react/blog/2015/12/16/ismounted-antipattern.html\n\nexport const makeCancelable = (promise) => {\n  let hasCanceled_ = false;\n\n  const wrappedPromise = new Promise((resolve, reject) => {\n    promise.then((val) =>\n      hasCanceled_ ? reject({isCanceled: true}) : resolve(val)\n    );\n    promise.catch((error) =>\n      hasCanceled_ ? reject({isCanceled: true}) : reject(error)\n    );\n  });\n\n  return {\n    promise: wrappedPromise,\n    cancel() {\n      hasCanceled_ = true;\n    },\n  };\n};\n"]},"metadata":{},"sourceType":"module"}